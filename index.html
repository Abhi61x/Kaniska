<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kaniska AI</title>
    <script src="https://sdk.cashfree.com/js/v3/cashfree.js"></script>
    <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^18.2.0",
    "react-dom/client": "https://aistudiocdn.com/react-dom@^18.2.0/client",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react-simple-code-editor": "https://aistudiocdn.com/react-simple-code-editor@^0.14.1",
    "prismjs": "https://aistudiocdn.com/prismjs@^1.30.0",
    "prismjs/": "https://aistudiocdn.com/prismjs@^1.30.0/",
    "prismjs/components/": "https://aistudiocdn.com/prismjs@^1.30.0/components/",
    "react-dom/": "https://aistudiocdn.com/react-dom@^18.2.0/",
    "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
    "firebase/auth": "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js",
    "firebase/firestore": "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js",
    "firebase/": "https://aistudiocdn.com/firebase@^12.6.0/"
  }
}
</script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body { margin: 0; padding: 0; background-color: #000; color: white; overflow: hidden; }
      
      /* Theme Variables */
      :root {
        --panel-bg: rgba(10, 10, 15, 0.95);
        --border-color: rgba(255, 255, 255, 0.1);
        --text-color: rgba(255, 255, 255, 0.9);
        --assistant-bubble-bg: rgba(30, 30, 40, 0.8);
        
        /* Default Avatar Color (Cyan) - RGB values for rgba usage */
        --avatar-rgb: 34, 211, 238; 
      }

      /* Mood-based Color Overrides */
      .avatar-mood-neutral { --avatar-rgb: 34, 211, 238; /* Cyan */ }
      .avatar-mood-happy { --avatar-rgb: 250, 204, 21; /* Yellow/Gold */ }
      .avatar-mood-excited { --avatar-rgb: 236, 72, 153; /* Pink/Magenta */ }
      .avatar-mood-sad { --avatar-rgb: 99, 102, 241; /* Indigo/Blue */ }
      .avatar-mood-empathetic { --avatar-rgb: 20, 184, 166; /* Teal */ }
      .avatar-mood-whatsapp { --avatar-rgb: 37, 211, 102; /* WhatsApp Green */ }

      .bg-panel-bg { background-color: var(--panel-bg); }
      .border-border-color { border-color: var(--border-color); }
      .text-text-color { color: var(--text-color); }
      .bg-assistant-bubble-bg { background-color: var(--assistant-bubble-bg); }
      .error-bubble { background-color: rgba(127, 29, 29, 0.5); color: #fecaca; border: 1px solid rgba(239, 68, 68, 0.3); }

      /* Custom Animations */
      @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
      .animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
      
      /* Smooth Panel Entry */
      @keyframes panel-slide-up {
        from { opacity: 0; transform: translateY(40px) scale(0.95); filter: blur(8px); }
        to { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
      }
      .animate-panel-enter { animation: panel-slide-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
      
      .animate-spin { animation: spin 1s linear infinite; }
      @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

      /* RGB Power Animations */
      @keyframes rgb-pulse {
        0% { border-color: #ff0000; box-shadow: 0 0 10px rgba(255,0,0,0.5); }
        33% { border-color: #00ff00; box-shadow: 0 0 10px rgba(0,255,0,0.5); }
        66% { border-color: #0000ff; box-shadow: 0 0 10px rgba(0,0,255,0.5); }
        100% { border-color: #ff0000; box-shadow: 0 0 10px rgba(255,0,0,0.5); }
      }
      .rgb-border {
        animation: rgb-pulse 3s infinite linear;
      }
      @keyframes rgb-text {
        0% { color: #ff0000; text-shadow: 0 0 5px rgba(255,0,0,0.5); }
        33% { color: #00ff00; text-shadow: 0 0 5px rgba(0,255,0,0.5); }
        66% { color: #0088ff; text-shadow: 0 0 5px rgba(0,0,255,0.5); }
        100% { color: #ff0000; text-shadow: 0 0 5px rgba(255,0,0,0.5); }
      }
      .rgb-text-glow {
        animation: rgb-text 4s infinite linear;
      }

      /* Avatar Styles */
      .avatar-wrap { position: relative; width: 300px; height: 300px; display: flex; justify-content: center; align-items: center; perspective: 1000px; transition: --avatar-rgb 0.5s ease; }
      .avatar-container { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; transition: transform 0.1s ease-out; }
      .avatar-image { 
        width: 100%; 
        height: 100%; 
        object-fit: cover; 
        border-radius: 50%; 
        mask-image: radial-gradient(circle, black 60%, transparent 100%); 
        -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); 
        transition: all 0.3s ease;
        filter: contrast(1.2) brightness(1.1) drop-shadow(0 0 10px rgba(var(--avatar-rgb), 0.3));
        opacity: 0.9;
      }
      
      /* Holographic Overlay Effects */
      .holo-overlay { 
        position: absolute; 
        inset: 0; 
        background: radial-gradient(circle, rgba(var(--avatar-rgb), 0.1) 0%, transparent 70%); 
        pointer-events: none; 
        mix-blend-mode: screen; 
        z-index: 2;
      }
      
      .holo-scanline {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, transparent 50%, rgba(var(--avatar-rgb), 0.05) 51%, transparent 52%);
        background-size: 100% 4px;
        animation: scanline 10s linear infinite;
        pointer-events: none;
        z-index: 3;
        border-radius: 50%;
        mask-image: radial-gradient(circle, black 60%, transparent 100%);
      }

      @keyframes scanline {
        0% { background-position: 0 0; }
        100% { background-position: 0 100%; }
      }

      .thinking-ring { position: absolute; inset: -10px; border: 2px solid rgba(var(--avatar-rgb), 0.3); border-radius: 50%; opacity: 0; transition: all 0.5s; transform: scale(0.9); z-index: 1; }
      .avatar-state-thinking .thinking-ring { opacity: 1; transform: scale(1.1) rotate(180deg); border-top-color: rgba(var(--avatar-rgb), 0.8); animation: spin 2s linear infinite; }
      
      /* Speaking Animation */
      @keyframes speak-pulse {
        0% { filter: brightness(1.2) drop-shadow(0 0 10px rgba(var(--avatar-rgb), 0.5)); transform: scale(1); }
        50% { filter: brightness(1.5) drop-shadow(0 0 25px rgba(var(--avatar-rgb), 0.8)); transform: scale(1.03); }
        100% { filter: brightness(1.2) drop-shadow(0 0 10px rgba(var(--avatar-rgb), 0.5)); transform: scale(1); }
      }
      
      .avatar-state-speaking .avatar-image { 
        animation: speak-pulse 1.2s infinite ease-in-out;
      }

      /* Speaking Ripples */
      .speaking-ring {
        position: absolute;
        inset: 0;
        border-radius: 50%;
        border: 2px solid rgba(var(--avatar-rgb), 0.6);
        opacity: 0;
        pointer-events: none;
        z-index: 0;
      }
      .avatar-state-speaking .speaking-ring {
        animation: ripple 2s cubic-bezier(0, 0.2, 0.8, 1) infinite;
      }
      .avatar-state-speaking .delay-ring {
        animation-delay: 0.6s;
      }

      @keyframes ripple {
        0% { transform: scale(0.8); opacity: 0; border-width: 4px; }
        10% { opacity: 1; }
        100% { transform: scale(1.5); opacity: 0; border-width: 0px; }
      }

      .glitch-layer { position: absolute; pointer-events: none; z-index: 10; }
      
      /* Utilities */
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      .mask-image-gradient { mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); -webkit-mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent); }
      .glowing-text { text-shadow: 0 0 10px rgba(var(--avatar-rgb), 0.5); }
      .weather-icon-glow { filter: drop-shadow(0 0 5px rgba(253, 224, 71, 0.5)); }
      .chat-bubble-animation { animation: fade-in 0.3s ease-out forwards; }
      
      /* Custom Scrollbar for Settings */
      .custom-scrollbar::-webkit-scrollbar { width: 6px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./index.tsx"></script>
  </body>
</html>